{% extends "blog/base.html" %}

{% block content %}
    <article class="media content-section">
        <img class="rounded vehicle-img" src="{{ object.image.url }}">
        <div class="media-body">
            <div class="article-metadata">
                <h3 style="color: darkblue; margin-left: 5px;" ><p class="mr-2">{{ object.name }}</p></h3>
            </div>
            <div class="article-metadata">
                <h5 style="color: rgb(22, 90, 5); margin-left: 5px;" ><p class="mr-2">Current Driver: {{ object.driver }}</p></h5>
            </div>
            <p class="article-content">{{ object.description }}</p>  
        </div>
    </article>
    
    <div class="media content-section text-light" style="background-color: rgb(16, 49, 65);">
        <span><h5 style="color: aqua; margin-left: 5px;">Sensors</h5></span>
        <table style="width: 60%; margin-left: 30px;">
            <tr>
                <th>Name</th>
                <th>Value</th>
                <th>Value X</th>
                <th>Value Y</th>
                <th>Value Z</th>
                <th>Unit</th>
            </tr>
            <tr>
                <td>Accleration</td>
                <td><span>-</span></td>
                <td><span id="accelx"></span></td>
                <td><span id="accely"></span></td>
                <td><span id="accelz"></span></td>
                <td><span id="accelz"><math>m/s^2</MATH></math></td>
            </tr>
            <tr>
                <td>Magnetometer</td>
                <td><span></span>-</td>
                <td><span id="magnetx"></span></td>
                <td><span id="magnety"></span></td>
                <td><span id="magnetz"></span></td>
                <td><span>m/s^2</span></td>
            </tr>
            <tr>
                <td>Gyroscope</td>
                <td><span>-</span></td>
                <td><span id="gyrox">-</span></td>
                <td><span id="gyroy">-</span></td>
                <td><span id="gyroz">-</span></td>
                <td><span>m/s^2</span></td>
            </tr>
            <tr>
                <td>LIDAR</td>
                <td><span id="lidar"></span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>m/s^2</span></td>
            </tr>
            <tr>
                <td>Humidity</td>
                <td><span id="humidity"></span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>m/s^2</span></td>
            </tr>
            <tr>
                <td>Steering Angle</td>
                <td><span id="angle"></span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>m/s^2</span></td>
            </tr>
            <tr>
                <td>Temperature</td>
                <td><span id="temperature"></span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>m/s^2</span></td>
            </tr>
            <tr>
                <td>Speed</td>
                <td><span id="speed"></span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>m/s^2</span></td>
            </tr>
            <tr>
                <td>Altimeter</td>
                <td><span id="altitude"></span></li></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>-</span></td>
                <td><span>-m/s^2</span></td>
            </tr>
            <tr style="color:cadetblue; font-weight: bold">
                <td>Timestamp</td>
                <td colspan="3"><span id="timestamp"></span></li></td>
            </tr>
          </table>
    </div>
    <div class="row">
        <div class="col-md-6">  
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart1" width="900" height="600"></canvas>
            </div>
        </div>
        <div class="col-md-6">   
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart4" width="900" height="600"></canvas>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">  
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart2" width="900" height="600"></canvas>
            </div>
        </div>
        <div class="col-md-6">   
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart5" width="900" height="600"></canvas>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">  
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart3" width="900" height="600"></canvas>
            </div>
        </div>
        <div class="col-md-6">   
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart6" width="900" height="600"></canvas>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">  
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart7" width="900" height="600"></canvas>
            </div>
        </div>
        <div class="col-md-6">   
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart8" width="900" height="600"></canvas>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">  
            <div class="media content-section" style="max-width: 900px; max-height: 600px; background-color: rgb(16, 49, 65);">
                <canvas id="myChart9" width="900" height="600"></canvas>
            </div>
        </div>
        <div class="col-md-6">
            <div class="gauge media content-section" style="background-color: rgb(16, 49, 65);">
                <div class="gauge__body">
                <div class="gauge__fill"></div>
                <div class="gauge__cover"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="chart-container"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>

    <script>
        const gaugeElement = document.querySelector(".gauge");

        function setGaugeValue(gauge, value) {
        if (value < 0 || value > 1) {
            return;
        }

        gauge.querySelector(".gauge__fill").style.transform = `rotate(${
            value / 2
        }turn)`;
        gauge.querySelector(".gauge__cover").textContent = `${Math.round(
            value * 100
        )} km/h`;
        }

        Chart.defaults.global.defaultFontColor = '#43C7AE';
        Chart.defaults.global.defaultFontSize = 10;
        let socket = new WebSocket('ws://localhost:8000/ws/polData/');
        socket.onopen = function(e){
            console.log('Connection established');
        };
        socket.onmessage = function(e){
            console.log(e.data);
            var recData = JSON.parse(e.data);
            setGaugeValue(gaugeElement, recData.value4/100);

            $('#accelx').html(recData.value0X);
            $('#accely').html(recData.value0Y);
            $('#accelz').html(recData.value0Z);

            $('#magnetx').html(recData.value1X);
            $('#magnety').html(recData.value1Y);
            $('#magnetz').html(recData.value1Z);

            $('#gyrox').html(recData.value2X);
            $('#gyroy').html(recData.value2X);
            $('#gyroz').html(recData.value2X);
            
            $('#lidar').html(recData.value0);
            $('#humidity').html(recData.value1);
            $('#angle').html(recData.value2);
            $('#temperature').html(recData.value3);
            $('#speed').html(recData.value4);
            $('#altitude').html(recData.value5);

            $('#timestamp').html(recData.timestamp);

            // Acceleration
            dataObjNew1X = dataObj1['data']['datasets'][0]['data'];
            dataObjNew1Y = dataObj1['data']['datasets'][1]['data'];
            dataObjNew1Z = dataObj1['data']['datasets'][2]['data'];
            dataObjNew1X.shift();
            dataObjNew1Y.shift();
            dataObjNew1Z.shift();
            dataObjNew1X.push(recData.value0X);
            dataObjNew1Y.push(recData.value0Y);
            dataObjNew1Z.push(recData.value0Z);
            dataObj1['data']['datasets'][0]['data'] = dataObjNew1X;
            dataObj1['data']['datasets'][1]['data'] = dataObjNew1Y;
            dataObj1['data']['datasets'][2]['data'] = dataObjNew1Z;

            // Magnetometer
            dataObjNew2X = dataObj2['data']['datasets'][0]['data'];
            dataObjNew2Y = dataObj2['data']['datasets'][1]['data'];
            dataObjNew2Z = dataObj2['data']['datasets'][2]['data'];
            dataObjNew2X.shift();
            dataObjNew2Y.shift();
            dataObjNew2Z.shift();
            dataObjNew2X.push(recData.value1X);
            dataObjNew2Y.push(recData.value1Y);
            dataObjNew2Z.push(recData.value1Z);
            dataObj2['data']['datasets'][0]['data'] = dataObjNew2X;
            dataObj2['data']['datasets'][1]['data'] = dataObjNew2Y;
            dataObj2['data']['datasets'][2]['data'] = dataObjNew2Z;

            // Gyroscope
            dataObjNew3X = dataObj3['data']['datasets'][0]['data'];
            dataObjNew3Y = dataObj3['data']['datasets'][1]['data'];
            dataObjNew3Z = dataObj3['data']['datasets'][2]['data'];
            dataObjNew3X.shift();
            dataObjNew3Y.shift();
            dataObjNew3Z.shift();
            dataObjNew3X.push(recData.value2X);
            dataObjNew3Y.push(recData.value2Y);
            dataObjNew3Z.push(recData.value2Z);
            dataObj3['data']['datasets'][0]['data'] = dataObjNew3X;
            dataObj3['data']['datasets'][1]['data'] = dataObjNew3Y;
            dataObj3['data']['datasets'][2]['data'] = dataObjNew3Z;

            // LIDAR
            dataObjNew4 = dataObj4['data']['datasets'][0]['data'];
            dataObjNew4.shift();
            dataObjNew4.push(recData.value0);
            dataObj4['data']['datasets'][0]['data'] = dataObjNew4;

            // Humidity
            dataObjNew5 = dataObj5['data']['datasets'][0]['data'];
            dataObjNew5.shift();
            dataObjNew5.push(recData.value1);
            dataObj5['data']['datasets'][0]['data'] = dataObjNew5;

            // Steering Angle
            dataObjNew6 = dataObj6['data']['datasets'][0]['data'];
            dataObjNew6.shift();
            dataObjNew6.push(recData.value2);
            dataObj6['data']['datasets'][0]['data'] = dataObjNew6;

            // Temperature
            dataObjNew7 = dataObj7['data']['datasets'][0]['data'];
            dataObjNew7.shift();
            dataObjNew7.push(recData.value3);
            dataObj7['data']['datasets'][0]['data'] = dataObjNew7;
            
            // Speed
            dataObjNew8 = dataObj8['data']['datasets'][0]['data'];
            dataObjNew8.shift();
            dataObjNew8.push(recData.value4);
            dataObj8['data']['datasets'][0]['data'] = dataObjNew8;

            // Altimeter
            dataObjNew9 = dataObj9['data']['datasets'][0]['data'];
            dataObjNew9.shift();
            dataObjNew9.push(recData.value5);
            dataObj9['data']['datasets'][0]['data'] = dataObjNew9;            

            // Update Charts           
            window.myLine1.update();
            window.myLine2.update();
            window.myLine3.update();
            window.myLine4.update();
            window.myLine5.update();
            window.myLine6.update();
            window.myLine7.update();
            window.myLine8.update();
            window.myLine9.update();
            // speedometer['dataSource']['dials']['dial'][0]['value'] = recData.value3;
            // speedometer.update()
        };

        socket.onclose = function(e){
            alert('Connection CLosed');
        };
    
    </script>
    

    <script>
        var dataObj1 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: 
                [
                    {
                        label: 'Accel X',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#3cba9f',
                        backgroundColor: 'rgba(0, 255, 255, 0.1)',
                        borderWidth: 2,
                    },
                    {
                        label: 'Accel Y',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#ef613b',
                        backgroundColor: 'rgba(293, 97, 59, 0.1)',
                        borderWidth: 2,
                    },
                    {
                        label: 'Accel Z',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#3b6bef',
                        backgroundColor: 'rgba(59, 107, 239, 0.1)',
                        borderWidth: 2,
                    }
                ]
            },
            options: {
                legend: {
                    display: true,
                },
                title: {
                    display: true,
                    text: 'Acceleration Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }   
            }
        }
        let ctx1 = document.getElementById('myChart1').getContext('2d');
        window.myLine1 = new Chart(ctx1, dataObj1);
    </script>

    <script>
        var dataObj2 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: 
                [
                    {
                        label: 'Magnet X',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#3cba9f',
                        backgroundColor: 'rgba(0, 255, 255, 0.1)',
                        borderWidth: 2,
                    },
                    {
                        label: 'Magnet Y',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#ef613b',
                        backgroundColor: 'rgba(293, 97, 59, 0.1)',
                        borderWidth: 2,
                    },
                    {
                        label: 'Magnet Z',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#3b6bef',
                        backgroundColor: 'rgba(59, 107, 239, 0.1)',
                        borderWidth: 2,
                    }
                ]
            },
            options: {
                legend: {
                    display: true,
                },
                title: {
                    display: true,
                    text: 'Magnetometer Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }   
            }
        }
        let ctx2 = document.getElementById('myChart2').getContext('2d');
        window.myLine2 = new Chart(ctx2, dataObj2);
    </script>

    <script>
        var dataObj3 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: 
                [
                    {
                        label: 'Gyro X',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#3cba9f',
                        backgroundColor: 'rgba(0, 255, 255, 0.1)',
                        borderWidth: 2,
                    },
                    {
                        label: 'Gyro Y',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#ef613b',
                        backgroundColor: 'rgba(293, 97, 59, 0.1)',
                        borderWidth: 2,
                    },
                    {
                        label: 'Gyro Z',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#3b6bef',
                        backgroundColor: 'rgba(59, 107, 239, 0.1)',
                        borderWidth: 2,
                    }
                ]
            },
            options: {
                legend: {
                    display: true,
                },
                title: {
                    display: true,
                    text: 'Gyroscope Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }   
            }
        }
        let ctx3 = document.getElementById('myChart3').getContext('2d');
        window.myLine3 = new Chart(ctx3, dataObj3);
    </script>


    <script>
        var dataObj4 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: [{
                    label: 'LIDAR',
                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    borderColor: '#3cba9f',
                    backgroundColor: 'rgba(0, 255, 255, 0.1)',
                    borderWidth: 2,
                    // fill: false,
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                title: {
                    display: true,
                    text: 'LIDAR Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }
            }
        }
        var ctx4 = document.getElementById('myChart4').getContext('2d');
        window.myLine4 = new Chart(ctx4, dataObj4);
    </script>

    <script>
        var dataObj5 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: [{
                    label: 'Humdity',
                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    borderColor: '#3cba9f',
                    backgroundColor: 'rgba(0, 255, 255, 0.1)',
                    borderWidth: 2,
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                title: {
                    display: true,
                    text: 'Humidity Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }
            }
        }
        let ctx5 = document.getElementById('myChart5').getContext('2d');
        window.myLine5 = new Chart(ctx5, dataObj5);
    </script>


    <script>
        var dataObj6 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: [{
                    label: 'Angle',
                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    borderColor: '#3cba9f',
                    backgroundColor: 'rgba(0, 255, 255, 0.1)',
                    borderWidth: 2,
                    // fill: false,
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                title: {
                    display: true,
                    text: 'Steering Angle Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }
            }
        }
        var ctx6 = document.getElementById('myChart6').getContext('2d');
        window.myLine6 = new Chart(ctx6, dataObj6);
    </script>

    <script>
        var dataObj7 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: [{
                    label: 'Temperature',
                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    borderColor: '#3cba9f',
                    backgroundColor: 'rgba(0, 255, 255, 0.1)',
                    borderWidth: 2,
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                title: {
                    display: true,
                    text: 'Temperature Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }
            }
        }
        let ctx7 = document.getElementById('myChart7').getContext('2d');
        window.myLine7 = new Chart(ctx7, dataObj7);
    </script>

    <script>
        var dataObj8 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: [{
                    label: 'Speed',
                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    borderColor: '#3cba9f',
                    backgroundColor: 'rgba(0, 255, 255, 0.1)',
                    borderWidth: 2,
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                title: {
                    display: true,
                    text: 'Speed Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }    
            }
        }
        let ctx8 = document.getElementById('myChart8').getContext('2d');
        window.myLine8 = new Chart(ctx8, dataObj8);
    </script>

    <script>
        var dataObj9 = {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                datasets: [{
                    label: 'Altitude',
                    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    borderColor: '#3cba9f',
                    backgroundColor: 'rgba(0, 255, 255, 0.1)',
                    borderWidth: 2,
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                title: {
                    display: true,
                    text: 'Altimeter Data',
                    fontSize: 14,
                    fontStyle: 'bold',
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                    }],
                    yAxes: [{
                        gridLines: {
                            color: 'rgba(255, 255, 255, 0.2)'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }    
            }
        }
        let ctx9 = document.getElementById('myChart9').getContext('2d');
        window.myLine9 = new Chart(ctx9, dataObj9);
    </script>

    <script>
        var dataSource = {
        chart: {
            captionpadding: "0",
            origw: "320",
            origh: "300",
            gaugeouterradius: "115",
            gaugestartangle: "270",
            gaugeendangle: "-25",
            showvalue: "1",
            valuefontsize: "30",
            majortmnumber: "13",
            majortmthickness: "2",
            majortmheight: "13",
            minortmheight: "7",
            minortmthickness: "1",
            minortmnumber: "1",
            showgaugeborder: "0",
            theme: "fusion"
        },
        colorrange: {
            color: [
            {
                minvalue: "0",
                maxvalue: "110",
                code: "#999999"
            },
            {
                minvalue: "110",
                maxvalue: "280",
                code: "#F6F6F6"
            }
            ]
        },
        dials: {
            dial: [
            {
                value: '110',
                bgcolor: "#F20F2F",
                basewidth: "8"
            }
            ]
        },
        annotations: {
            groups: [
            {
                items: [
                {
                    type: "text",
                    id: "text",
                    text: "km/h",
                    x: "$gaugeCenterX",
                    y: "$gaugeCenterY + 40",
                    fontsize: "20",
                    color: "#555555"
                }
                ]
            }
            ]
        }
    };

    FusionCharts.ready(function() {
        var speedometer = new FusionCharts({
            type: "angulargauge",
            renderAt: "chart-container",
            width: "100%",
            height: "100%",
            dataFormat: "json",
            dataSource
        }).render();
    });
    </script>

{% endblock content %}